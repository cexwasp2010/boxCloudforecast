{"ast":null,"code":"var _jsxFileName = \"/home/cesar/Documentos/CloudForecast-BoxFactory/app/javascript/components/BoxList.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"./Box\";\nimport './css/index.css';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport axios from 'axios';\n\nfunction BoxList(props) {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var deleteBox = function deleteBox(id) {\n    console.log('delete box: ' + id);\n    axios[\"delete\"](\"/ajax_delete\", {\n      data: {\n        id: id\n      }\n    }).then(function (res) {\n      if (res.data.success) {\n        window.location.href = '/box';\n      } else {\n        // TODO: Handle error and display message to the user\n        setError(res.data.error);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"Total Boxes: \", props.total), error !== '' && /*#__PURE__*/React.createElement(\"div\", {\n    key: \"error\",\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, error), props.boxes && props.boxes.map(function (box) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"info-\".concat(box.id),\n      className: \"box\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      key: box.id,\n      size: box.size,\n      label: box.label,\n      box_owner: box.box_owners_id,\n      box_owners: props.box_owners,\n      box_id: box.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      key: \"id-\".concat(box.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, \"ID: \", box.id), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"deleteButton\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      key: \"delete-\".concat(box.id),\n      onClick: function onClick() {\n        return deleteBox(box.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, \"Delete\")));\n  })));\n}\n\nBoxList.propTypes = {\n  boxes: PropTypes.array,\n  total: PropTypes.number\n};\nexport default BoxList;","map":{"version":3,"sources":["/home/cesar/Documentos/CloudForecast-BoxFactory/app/javascript/components/BoxList.jsx"],"names":["React","useState","PropTypes","Box","M","axios","BoxList","props","error","setError","deleteBox","id","console","log","data","then","res","success","window","location","href","total","boxes","map","box","size","label","box_owners_id","box_owners","propTypes","array","number"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport Box from \"./Box\"\nimport './css/index.css'\n\nimport 'materialize-css/dist/css/materialize.min.css';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nimport axios from 'axios';\n\nfunction BoxList(props) {\n\n  const [error, setError] = useState('')\n\n  const deleteBox = (id) => {\n    console.log('delete box: ' + id)\n    \n    axios.delete(`/ajax_delete`, {data: {id}})\n    .then(res => {\n      if (res.data.success) {\n        window.location.href = '/box'\n      } else {\n        // TODO: Handle error and display message to the user\n        setError(res.data.error)\n      }\n    })\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"App\">\n        <div>\n          Total Boxes: {props.total}\n        </div>\n\n        {error !== '' && (\n          <div key='error' className='error'>{error}</div>\n        )}\n\n        {props.boxes && (\n          props.boxes.map((box) => (\n            <div key={`info-${box.id}`}  className='box'>\n              <Box key={box.id} size={box.size} label={box.label} box_owner={box.box_owners_id} box_owners={props.box_owners} box_id={box.id} />\n\n              <div key={`id-${box.id}`}>\n                ID: {box.id}\n              </div>\n\n              <div className='deleteButton'>\n                <button key={`delete-${box.id}`} onClick={() => deleteBox(box.id)}>Delete</button>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </React.Fragment>\n  );\n}\n\nBoxList.propTypes = {\n  boxes: PropTypes.array,\n  total: PropTypes.number\n};\nexport default BoxList\n"]},"metadata":{},"sourceType":"module"}